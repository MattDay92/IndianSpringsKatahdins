import{_ as I,f as d,r as p,g as m,e as E,c as a,a as A,h as t,F as _,i as g,w as L,j as v,k as b,o as l,t as f,l as S,p as B,m as D,n as C,s as F,q as M,N as T}from"./index-qC4NEbXu.js";const n=r=>(B("data-v-3ca9c9bd"),r=r(),D(),r),V={class:"email-div"},H={key:0},j=n(()=>t("h2",null,"Mailing List Emails:",-1)),$={class:"email-list"},q={key:1},z=n(()=>t("p",null,"No data available",-1)),K=[z],O={class:"recipes"},P=n(()=>t("label",{class:"form-label"},"Add New Recipe",-1)),U=n(()=>t("input",{class:"form-control",name:"RecipeName",placeholder:"Enter Recipe Name"},null,-1)),G=n(()=>t("textarea",{id:"tiny",name:"RecipeBody",placeholder:"Enter Recipe Info"},null,-1)),J=n(()=>t("button",{class:"btn",type:"submit"},"Subscribe",-1)),Q=[P,U,G,J],W={class:"recipe-div"},X={key:0},Y=n(()=>t("h2",null,"Recipes:",-1)),Z={class:"recipe-list"},ee={class:"card"},te={class:"card-body"},se={class:"card-title"},ie=["innerHTML"],oe=["onClick"],ce={key:1},ae=n(()=>t("p",null,"No data available",-1)),le=[ae],ne={__name:"Admin",setup(r){d(()=>{tinymce.init({selector:"textarea#tiny",menu:{file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | a11ycheck code wordcount"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},plugins:["advlist","autolink","link","image","lists","charmap","preview","anchor","pagebreak","searchreplace","wordcount","visualblocks","visualchars","code","fullscreen","insertdatetime","media","table","emoticons","template","help"]})}),document.addEventListener("focusin",e=>{e.target.closest(".tox-tinymce, .tox-tinymce-aux, .moxman-window, .tam-assetmanager-root")!==null&&e.stopImmediatePropagation()});const h=p(m()),s=E({emails:[],recipes:[],recipeIndices:[]}),k=()=>{v(b(h,"emails")).then(e=>{e.exists()?(Object.values(e.val()).forEach(c=>{s.emails.push(c)}),console.log(s.emails)):console.log("No data available")}).catch(e=>{console.error(e)})},y=e=>{e.preventDefault();const c=m(),o=e.target.RecipeName.value,i=tinymce.get("tiny").getContent(),u=p(c,"recipes"),N=C(u);F(N,{recipeName:o,recipeBody:i}).then(()=>{alert("Successfully Added a New Recipe!","success"),e.target.reset(),location.reload()},x=>{console.log("FAILED...",x.text)})},w=()=>{v(b(h,"recipes")).then(e=>{e.exists()?(e.forEach(c=>{const o=c.key,i=c.val();s.recipes.push(i),s.recipeIndices.push(o)}),console.log("Recipes:",s.recipes),console.log("Recipe Indices:",s.recipeIndices)):console.log("No data available")}).catch(e=>{console.error("Error fetching recipes:",e)})},R=e=>{const c=m(),o=p(c,`recipes/${e}`);M(o).then(()=>{console.log("Recipe deleted successfully"),s.recipes=s.recipes.filter(i=>i.key!==e),location.reload()}).catch(i=>{console.error("Error deleting recipe:",i)})};return d(k),d(w),(e,c)=>(l(),a("div",null,[A(T),t("main",null,[t("div",V,[s.emails.length?(l(),a("div",H,[j,t("ul",$,[(l(!0),a(_,null,g(s.emails,(o,i)=>(l(),a("li",{key:i},f(o.emailAddress),1))),128))])])):(l(),a("div",q,[...K]))]),t("div",O,[t("form",{name:"recipe-form",onSubmit:L(y,["prevent"])},[...Q],32),t("div",W,[s.recipes.length?(l(),a("div",X,[Y,t("div",Z,[(l(!0),a(_,null,g(s.recipes,(o,i)=>(l(),a("div",{key:i},[t("div",ee,[S(' <img src="..." class="card-img-top" alt="..."> '),t("div",te,[t("h3",se,f(o.recipeName),1),t("div",{class:"card-text",innerHTML:o.recipeBody},null,8,ie),t("button",{onClick:u=>R(s.recipeIndices[i]),class:"btn btn-sm btn-danger"},"Delete",8,oe)])])]))),128))])])):(l(),a("div",ce,[...le]))])])])]))}},de=I(ne,[["__scopeId","data-v-3ca9c9bd"],["__file","/Users/mattday/Desktop/Coding/IndianSpringsKatahdins/src/views/Admin.vue"]]);export{de as default};
