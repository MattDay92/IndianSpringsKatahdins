import{_ as E,f as d,r as p,g as m,e as I,c as a,a as A,h as t,F as u,i as b,w as B,j as g,k as f,o as l,N as L,t as v,l as D,p as S,m as V,n as F,s as C,q as M}from"./index-gm9Mze-8.js";const n=r=>(S("data-v-9bc7ec05"),r=r(),V(),r),$={class:"email-div"},j={key:0},q=n(()=>t("h2",null,"Mailing List Emails:",-1)),z={class:"email-list"},H={key:1},O=n(()=>t("p",null,"No data available",-1)),P=[O],T={class:"recipes"},U=n(()=>t("h2",{class:"form-label"},"Add New Recipe",-1)),G=n(()=>t("input",{class:"form-control",name:"RecipeName",placeholder:"Enter Recipe Name"},null,-1)),J=n(()=>t("textarea",{class:"form-control",name:"RecipeBody",placeholder:"Enter Recipe URL"},null,-1)),K=n(()=>t("button",{class:"btn",type:"submit"},"Add Recipe",-1)),Q=[U,G,J,K],W={class:"recipe-div"},X={key:0},Y=n(()=>t("h2",null,"Recipes:",-1)),Z={class:"recipe-list"},ee={class:"card"},te={class:"card-body"},se={class:"card-title"},ce=["href"],ie=["onClick"],oe={key:1},ae=n(()=>t("p",null,"No data available",-1)),le=[ae],ne={__name:"Admin",setup(r){d(()=>{tinymce.init({selector:"textarea#tiny",menu:{edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template codesample inserttable | charmap hr | pagebreak nonbreaking anchor tableofcontents | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},plugins:["advlist","autolink","link","image","lists","anchor","searchreplace","visualblocks","visualchars","code","fullscreen","insertdatetime","media","table","template","help"]})}),document.addEventListener("focusin",e=>{e.target.closest(".tox-tinymce, .tox-tinymce-aux, .moxman-window, .tam-assetmanager-root")!==null&&e.stopImmediatePropagation()});const h=p(m()),s=I({emails:[],recipes:[],recipeIndices:[]}),k=()=>{g(f(h,"emails")).then(e=>{e.exists()?(Object.values(e.val()).forEach(o=>{s.emails.push(o)}),console.log(s.emails)):console.log("No data available")}).catch(e=>{console.error(e)})},y=e=>{e.preventDefault();const o=m(),i=e.target.RecipeName.value,c=e.target.RecipeBody.value,_=p(o,"recipes"),w=F(_);C(w,{recipeName:i,recipeBody:c}).then(()=>{alert("Successfully Added a New Recipe!","success"),e.target.reset(),location.reload()},x=>{console.log("FAILED...",x.text)})},R=()=>{g(f(h,"recipes")).then(e=>{e.exists()?(e.forEach(o=>{const i=o.key,c=o.val();s.recipes.push(c),s.recipeIndices.push(i)}),console.log("Recipes:",s.recipes),console.log("Recipe Indices:",s.recipeIndices)):console.log("No data available")}).catch(e=>{console.error("Error fetching recipes:",e)})},N=e=>{const o=m(),i=p(o,`recipes/${e}`);M(i).then(()=>{console.log("Recipe deleted successfully"),s.recipes=s.recipes.filter(c=>c.key!==e),location.reload()}).catch(c=>{console.error("Error deleting recipe:",c)})};return d(k),d(R),(e,o)=>(l(),a("div",null,[A(L),t("main",null,[t("div",$,[s.emails.length?(l(),a("div",j,[q,t("ul",z,[(l(!0),a(u,null,b(s.emails,(i,c)=>(l(),a("li",{key:c},v(i.emailAddress),1))),128))])])):(l(),a("div",H,P))]),t("div",T,[t("form",{name:"recipe-form",onSubmit:B(y,["prevent"])},Q,32),t("div",W,[s.recipes.length?(l(),a("div",X,[Y,t("div",Z,[(l(!0),a(u,null,b(s.recipes,(i,c)=>(l(),a("div",{key:c},[t("div",ee,[D(' <img src="..." class="card-img-top" alt="..."> '),t("div",te,[t("h3",se,v(i.recipeName),1),t("a",{class:"btn",target:"_blank",href:`${i.recipeBody}`},"View Recipe",8,ce),t("button",{onClick:_=>N(s.recipeIndices[c]),class:"btn btn-sm btn-danger"},"Delete",8,ie)])])]))),128))])])):(l(),a("div",oe,le))])])])]))}},de=E(ne,[["__scopeId","data-v-9bc7ec05"]]);export{de as default};
